{
  "name": "cora",
  "displayName": "Cora",
  "description": "%extension.description%",
  "version": "0.2.1",
  "publisher": "jqlong",
  "icon": "images/icon.png",
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "https://github.com/jqlong17/cora"
  },
  "engines": {
    "vscode": "^1.96.0"
  },
  "categories": [
    "Other",
    "Notebooks",
    "Visualization"
  ],
  "keywords": [
    "knowledge",
    "knowledge-base",
    "notes",
    "markdown",
    "wiki",
    "笔记",
    "知识管理",
    "cora"
  ],
  "activationEvents": [],
  "main": "./out/extension.js",
  "contributes": {
    "viewsContainers": {
      "activitybar": [
        {
          "id": "knowledgeBase",
          "title": "Cora",
          "icon": "$(book)"
        }
      ]
    },
    "views": {
      "knowledgeBase": [
        {
          "id": "pageTree",
          "name": "%view.pages%",
          "when": "true",
          "size": 1
        },
        {
          "id": "kbOutline",
          "name": "%view.outline%",
          "when": "true",
          "size": 1
        },
        {
          "id": "coraWiki",
          "name": "%view.coraWiki%",
          "when": "true",
          "size": 1
        },
        {
          "id": "coraPlan",
          "name": "%view.coraPlan%",
          "when": "true",
          "size": 1
        }
      ]
    },
    "viewsWelcome": [
      {
        "view": "pageTree",
        "contents": "%welcome.pages%"
      },
      {
        "view": "kbOutline",
        "contents": "%welcome.outline%"
      },
      {
        "view": "coraWiki",
        "contents": "%welcome.coraWiki%"
      },
      {
        "view": "coraPlan",
        "contents": "%welcome.coraPlan%"
      }
    ],
    "commands": [
      {
        "command": "knowledgeBase.refreshPageTree",
        "title": "%cmd.refreshPageTree%",
        "icon": "$(refresh)"
      },
      {
        "command": "knowledgeBase.toggleFilter",
        "title": "%cmd.toggleFilter%",
        "icon": "$(filter)"
      },
      {
        "command": "knowledgeBase.togglePageView",
        "title": "%cmd.togglePageView%",
        "icon": "$(list-flat)"
      },
      {
        "command": "knowledgeBase.togglePageViewTree",
        "title": "%cmd.togglePageView%",
        "icon": "$(list-tree)"
      },
      {
        "command": "knowledgeBase.togglePageViewFlat",
        "title": "%cmd.togglePageView%",
        "icon": "$(list-flat)"
      },
      {
        "command": "knowledgeBase.setPageViewModeTree",
        "title": "%cmd.viewTree%",
        "icon": "$(list-tree)"
      },
      {
        "command": "knowledgeBase.setPageViewModeFlat",
        "title": "%cmd.viewFlat%",
        "icon": "$(layout)"
      },
      {
        "command": "knowledgeBase.setPageViewModeFavorites",
        "title": "%cmd.favorite%",
        "icon": "$(star-empty)"
      },
      {
        "command": "knowledgeBase.toggleFavorite",
        "title": "%cmd.favorite%",
        "icon": "$(star-empty)"
      },
      {
        "command": "knowledgeBase.showAllFiles",
        "title": "%cmd.showAllFiles%",
        "icon": "$(files)"
      },
      {
        "command": "knowledgeBase.showMarkdownOnly",
        "title": "%cmd.showMarkdownOnly%",
        "icon": "$(markdown)"
      },
      {
        "command": "knowledgeBase.openPreview",
        "title": "%cmd.openPreview%",
        "icon": "$(open-preview)"
      },
      {
        "command": "knowledgeBase.selectFont",
        "title": "%cmd.displaySettings%",
        "icon": "$(case-sensitive)"
      },
      {
        "command": "knowledgeBase.newNote",
        "title": "%cmd.newNote%",
        "icon": "$(new-file)"
      },
      {
        "command": "knowledgeBase.newFolder",
        "title": "%cmd.newFolder%",
        "icon": "$(new-folder)"
      },
      {
        "command": "knowledgeBase.deleteItem",
        "title": "%cmd.delete%",
        "icon": "$(trash)"
      },
      {
        "command": "knowledgeBase.renameItem",
        "title": "%cmd.rename%",
        "icon": "$(edit)"
      },
      {
        "command": "knowledgeBase.outlineCollapseAll",
        "title": "%cmd.collapseAll%",
        "icon": "$(collapse-all)"
      },
      {
        "command": "knowledgeBase.outlineExpandAll",
        "title": "%cmd.expandAll%",
        "icon": "$(expand-all)"
      },
      {
        "command": "knowledgeBase.gotoHeading",
        "title": "%cmd.gotoHeading%"
      },
      {
        "command": "knowledgeBase.revealInFinder",
        "title": "%cmd.revealInFinder%",
        "icon": "$(folder-opened)"
      },
      {
        "command": "knowledgeBase.copyPath",
        "title": "%cmd.copyPath%",
        "icon": "$(copy)"
      },
      {
        "command": "knowledgeBase.copyRelativePath",
        "title": "%cmd.copyRelativePath%",
        "icon": "$(copy)"
      },
      {
        "command": "knowledgeBase.searchNotes",
        "title": "%cmd.searchNotes%",
        "icon": "$(search)"
      },
      {
        "command": "knowledgeBase.clearSearch",
        "title": "%cmd.clearSearch%",
        "icon": "$(clear-all)"
      },
      {
        "command": "knowledgeBase.setSortOrder",
        "title": "%cmd.sort%",
        "icon": "$(arrow-down)"
      },
      {
        "command": "knowledgeBase.startCoraWikiResearch",
        "title": "%cmd.startCoraWikiResearch%",
        "icon": "$(sparkle)"
      },
      {
        "command": "knowledgeBase.startCoraWikiWorkspaceArchitectureResearch",
        "title": "%cmd.startCoraWikiWorkspaceArchitectureResearch%",
        "icon": "$(rocket)"
      },
      {
        "command": "knowledgeBase.openLatestCoraWikiReport",
        "title": "%cmd.openLatestCoraWikiReport%",
        "icon": "$(file-code)"
      },
      {
        "command": "knowledgeBase.openCoraWikiReport",
        "title": "%cmd.openCoraWikiReport%"
      },
      {
        "command": "knowledgeBase.deleteCoraWikiReport",
        "title": "%cmd.deleteCoraWikiReport%",
        "icon": "$(trash)"
      },
      {
        "command": "knowledgeBase.openCoraWikiReference",
        "title": "%cmd.openCoraWikiReference%"
      },
      {
        "command": "knowledgeBase.openCoraWikiUsage",
        "title": "%cmd.openCoraWikiUsage%",
        "icon": "$(info)"
      },
      {
        "command": "knowledgeBase.openPlanConstraints",
        "title": "%cmd.openPlanConstraints%",
        "icon": "$(checklist)"
      },
      {
        "command": "knowledgeBase.openPlanReadme",
        "title": "%cmd.openPlanReadme%",
        "icon": "$(book)"
      },
      {
        "command": "knowledgeBase.installPlanConstraintsToWorkspace",
        "title": "%cmd.installPlanConstraintsToWorkspace%",
        "icon": "$(file-add)"
      },
      {
        "command": "knowledgeBase.openCoraPlanUsage",
        "title": "%cmd.openCoraPlanUsage%",
        "icon": "$(info)"
      },
      {
        "command": "knowledgeBase.openCoraPlanPlan",
        "title": "%cmd.openCoraPlanPlan%"
      },
      {
        "command": "knowledgeBase.deleteCoraPlanPlan",
        "title": "%cmd.deleteCoraPlanPlan%",
        "icon": "$(trash)"
      }
    ],
    "menus": {
      "editor/title": [
        {
          "command": "knowledgeBase.selectFont",
          "when": "activeWebviewPanelId == 'coraPreview'",
          "group": "navigation@1"
        }
      ],
      "view/title": [
        {
          "command": "knowledgeBase.showAllFiles",
          "when": "view == pageTree",
          "group": "navigation@1"
        },
        {
          "command": "knowledgeBase.showMarkdownOnly",
          "when": "view == pageTree",
          "group": "navigation@2"
        },
        {
          "command": "knowledgeBase.setPageViewModeFavorites",
          "when": "view == pageTree",
          "group": "navigation@3"
        },
        {
          "command": "knowledgeBase.togglePageViewTree",
          "when": "view == pageTree && coraPageTreeViewLayout == 'tree'",
          "group": "navigation@4"
        },
        {
          "command": "knowledgeBase.togglePageViewFlat",
          "when": "view == pageTree && coraPageTreeViewLayout == 'flat'",
          "group": "navigation@4"
        },
        {
          "command": "knowledgeBase.searchNotes",
          "when": "view == pageTree",
          "group": "1_search@1"
        },
        {
          "command": "knowledgeBase.newNote",
          "when": "view == pageTree",
          "group": "2_new@1"
        },
        {
          "command": "knowledgeBase.newFolder",
          "when": "view == pageTree",
          "group": "2_new@2"
        },
        {
          "command": "knowledgeBase.setSortOrder",
          "when": "view == pageTree",
          "group": "3_sort@1"
        },
        {
          "command": "knowledgeBase.refreshPageTree",
          "when": "view == pageTree",
          "group": "4_refresh@1"
        },
        {
          "command": "knowledgeBase.outlineCollapseAll",
          "when": "view == kbOutline",
          "group": "navigation@1"
        },
        {
          "command": "knowledgeBase.outlineExpandAll",
          "when": "view == kbOutline",
          "group": "navigation@2"
        },
        {
          "command": "knowledgeBase.startCoraWikiWorkspaceArchitectureResearch",
          "when": "view == coraWiki && !corawikiResearchRunning",
          "group": "navigation@1"
        },
        {
          "command": "knowledgeBase.startCoraWikiResearch",
          "when": "view == coraWiki && !corawikiResearchRunning",
          "group": "navigation@2"
        },
        {
          "command": "knowledgeBase.openCoraWikiUsage",
          "when": "view == coraWiki",
          "group": "navigation@3"
        },
        {
          "command": "knowledgeBase.openPlanConstraints",
          "when": "view == coraPlan",
          "group": "navigation@1"
        },
        {
          "command": "knowledgeBase.openPlanReadme",
          "when": "view == coraPlan",
          "group": "navigation@2"
        },
        {
          "command": "knowledgeBase.installPlanConstraintsToWorkspace",
          "when": "view == coraPlan",
          "group": "navigation@3"
        },
        {
          "command": "knowledgeBase.openCoraPlanUsage",
          "when": "view == coraPlan",
          "group": "navigation@4"
        }
      ],
      "view/item/context": [
        {
          "command": "knowledgeBase.clearSearch",
          "when": "view == search",
          "group": "1_search@1"
        },
        {
          "command": "knowledgeBase.toggleFavorite",
          "when": "view == pageTree && (viewItem == file || viewItem == file+favorite)",
          "group": "inline"
        },
        {
          "command": "knowledgeBase.toggleFavorite",
          "when": "view == pageTree && (viewItem == file || viewItem == file+favorite)",
          "group": "2_favorite@1"
        },
        {
          "command": "knowledgeBase.newNote",
          "when": "view == pageTree && viewItem == folder",
          "group": "2_new@1"
        },
        {
          "command": "knowledgeBase.newFolder",
          "when": "view == pageTree && viewItem == folder",
          "group": "2_new@2"
        },
        {
          "command": "knowledgeBase.renameItem",
          "when": "view == pageTree",
          "group": "3_edit@1"
        },
        {
          "command": "knowledgeBase.deleteItem",
          "when": "view == pageTree",
          "group": "3_edit@2"
        },
        {
          "command": "knowledgeBase.revealInFinder",
          "when": "view == pageTree",
          "group": "4_file@1"
        },
        {
          "command": "knowledgeBase.copyPath",
          "when": "view == pageTree",
          "group": "3_file@2"
        },
        {
          "command": "knowledgeBase.copyRelativePath",
          "when": "view == pageTree",
          "group": "3_file@3"
        },
        {
          "command": "knowledgeBase.deleteCoraWikiReport",
          "when": "view == coraWiki && viewItem == coraWiki.report",
          "group": "4_file@1"
        },
        {
          "command": "knowledgeBase.revealInFinder",
          "when": "view == coraWiki && viewItem == coraWiki.report",
          "group": "4_file@2"
        },
        {
          "command": "knowledgeBase.copyPath",
          "when": "view == coraWiki && viewItem == coraWiki.report",
          "group": "4_file@3"
        },
        {
          "command": "knowledgeBase.copyRelativePath",
          "when": "view == coraWiki && viewItem == coraWiki.report",
          "group": "4_file@4"
        },
        {
          "command": "knowledgeBase.deleteCoraPlanPlan",
          "when": "view == coraPlan && viewItem == coraPlan.planFile",
          "group": "4_file@1"
        },
        {
          "command": "knowledgeBase.revealInFinder",
          "when": "view == coraPlan && viewItem == coraPlan.planFile",
          "group": "4_file@2"
        },
        {
          "command": "knowledgeBase.copyPath",
          "when": "view == coraPlan && viewItem == coraPlan.planFile",
          "group": "4_file@3"
        },
        {
          "command": "knowledgeBase.copyRelativePath",
          "when": "view == coraPlan && viewItem == coraPlan.planFile",
          "group": "4_file@4"
        }
      ]
    },
    "configuration": {
      "title": "Cora",
      "properties": {
        "knowledgeBase.filterMode": {
          "type": "string",
          "default": "markdown",
          "enum": [
            "all",
            "markdown"
          ],
          "enumDescriptions": [
            "%config.filterMode.all%",
            "%config.filterMode.markdown%"
          ],
          "description": "%config.filterMode.description%"
        },
        "knowledgeBase.showHiddenFiles": {
          "type": "boolean",
          "default": true,
          "description": "%config.showHiddenFiles.description%"
        },
        "knowledgeBase.pageViewMode": {
          "type": "string",
          "default": "flat",
          "enum": [
            "tree",
            "flat",
            "favorites"
          ],
          "enumDescriptions": [
            "%config.pageViewMode.tree%",
            "%config.pageViewMode.flat%",
            "%config.pageViewMode.favorites%"
          ],
          "description": "%config.pageViewMode.description%"
        },
        "knowledgeBase.markdownExtensions": {
          "type": "array",
          "default": [
            ".md",
            ".markdown",
            ".mdx",
            ".mdc"
          ],
          "description": "%config.markdownExtensions.description%"
        },
        "knowledgeBase.previewOnClick": {
          "type": "boolean",
          "default": true,
          "description": "%config.previewOnClick.description%"
        },
        "knowledgeBase.autoReveal": {
          "type": "boolean",
          "default": true,
          "description": "%config.autoReveal.description%"
        },
        "knowledgeBase.showOutlineForNonMarkdown": {
          "type": "boolean",
          "default": false,
          "description": "%config.showOutlineForNonMarkdown.description%"
        },
        "knowledgeBase.sortOrder": {
          "type": "string",
          "default": "ctimeDesc",
          "enum": [
            "nameAsc",
            "nameDesc",
            "mtimeDesc",
            "mtimeAsc",
            "ctimeDesc",
            "ctimeAsc"
          ],
          "enumDescriptions": [
            "%config.sortOrder.nameAsc%",
            "%config.sortOrder.nameDesc%",
            "%config.sortOrder.mtimeDesc%",
            "%config.sortOrder.mtimeAsc%",
            "%config.sortOrder.ctimeDesc%",
            "%config.sortOrder.ctimeAsc%"
          ],
          "description": "%config.sortOrder.description%"
        },
        "knowledgeBase.displayLanguage": {
          "type": "string",
          "default": "zh",
          "enum": [
            "zh",
            "en"
          ],
          "enumDescriptions": [
            "%config.displayLanguage.zh%",
            "%config.displayLanguage.en%"
          ],
          "description": "%config.displayLanguage.description%"
        },
        "knowledgeBase.coraWiki.provider": {
          "type": "string",
          "default": "openai",
          "enum": [
            "kimi",
            "openai",
            "openrouter",
            "minimax"
          ],
          "description": "%config.coraWiki.provider.description%"
        },
        "knowledgeBase.coraWiki.baseUrl": {
          "type": "string",
          "default": "https://api.openai.com/v1",
          "description": "%config.coraWiki.baseUrl.description%"
        },
        "knowledgeBase.coraWiki.model": {
          "type": "string",
          "default": "gpt-4o-mini",
          "description": "%config.coraWiki.model.description%"
        },
        "knowledgeBase.coraWiki.apiKeyEnvName": {
          "type": "string",
          "default": "OPENAI_API_KEY",
          "description": "%config.coraWiki.apiKeyEnvName.description%"
        },
        "knowledgeBase.coraWiki.fallbackProvider": {
          "type": "string",
          "default": "openai",
          "enum": [
            "openai",
            "openrouter",
            "kimi",
            "minimax"
          ],
          "description": "%config.coraWiki.fallbackProvider.description%"
        },
        "knowledgeBase.coraWiki.maxSteps": {
          "type": "number",
          "default": 15,
          "minimum": 1,
          "maximum": 50,
          "description": "%config.coraWiki.maxSteps.description%"
        },
        "knowledgeBase.coraWiki.maxTotalTokens": {
          "type": "number",
          "default": 100000,
          "minimum": 1000,
          "maximum": 1000000,
          "description": "%config.coraWiki.maxTotalTokens.description%"
        },
        "knowledgeBase.coraWiki.include": {
          "type": "array",
          "default": [],
          "description": "%config.coraWiki.include.description%"
        },
        "knowledgeBase.coraWiki.exclude": {
          "type": "array",
          "default": [
            ".git",
            "node_modules",
            "dist",
            "build"
          ],
          "description": "%config.coraWiki.exclude.description%"
        },
        "knowledgeBase.coraWiki.cacheTtlSec": {
          "type": "number",
          "default": 30,
          "minimum": 0,
          "maximum": 3600,
          "description": "%config.coraWiki.cacheTtlSec.description%"
        },
        "knowledgeBase.coraWiki.pythonTooling.enabled": {
          "type": "boolean",
          "default": true,
          "description": "%config.coraWiki.pythonTooling.enabled.description%"
        },
        "knowledgeBase.coraWiki.pythonPath": {
          "type": "string",
          "default": "python3",
          "description": "%config.coraWiki.pythonPath.description%"
        },
        "knowledgeBase.fontFamily": {
          "type": "string",
          "default": "Cascadia Mono",
          "enum": [
            "Cascadia Mono",
            "Google Sans",
            "IBM Plex Mono",
            "Noto Sans SC",
            "System"
          ],
          "description": "%config.fontFamily.description%"
        },
        "knowledgeBase.fontSize": {
          "type": "number",
          "default": 15,
          "minimum": 12,
          "maximum": 30,
          "description": "%config.fontSize.description%"
        },
        "knowledgeBase.lineHeightPreview": {
          "type": "number",
          "default": 1.5,
          "minimum": 1,
          "maximum": 3,
          "description": "%config.lineHeightPreview.description%"
        },
        "knowledgeBase.lineHeightSource": {
          "type": "number",
          "default": 1.6,
          "minimum": 1,
          "maximum": 3,
          "description": "%config.lineHeightSource.description%"
        }
      }
    },
    "customEditors": [
      {
        "viewType": "cora.markdown.preview",
        "displayName": "Cora Preview",
        "selector": [
          {
            "filenamePattern": "*.md"
          },
          {
            "filenamePattern": "*.markdown"
          },
          {
            "filenamePattern": "*.mdx"
          },
          {
            "filenamePattern": "*.mdc"
          }
        ],
        "priority": "option"
      }
    ],
    "keybindings": [
      {
        "command": "knowledgeBase.openPreview",
        "key": "cmd+shift+v",
        "mac": "cmd+shift+v",
        "when": "editorTextFocus && editorLangId == markdown"
      },
      {
        "command": "knowledgeBase.openEditor",
        "key": "cmd+e",
        "mac": "cmd+e",
        "when": "activeWebviewPanelId == 'coraPreview'"
      }
    ]
  },
  "scripts": {
    "compile": "tsc -p ./",
    "bundle": "esbuild src/extension.ts --bundle --outfile=out/extension.js --external:vscode --format=cjs --platform=node",
    "vscode:prepublish": "npm run bundle -- --minify",
    "watch": "tsc -watch -p ./",
    "pretest": "npm run compile && npm run lint",
    "lint": "eslint src --ext ts",
    "test": "node ./out/test/runTest.js",
    "seed-test-workspace": "node scripts/seed-test-workspace.js",
    "sync-plan": "node scripts/sync-plan-constraints.js",
    "publish:all": "./scripts/publish.sh"
  },
  "devDependencies": {
    "@types/glob": "^8.1.0",
    "@types/mocha": "^10.0.6",
    "@types/node": "20.x",
    "@types/vscode": "^1.96.0",
    "@typescript-eslint/eslint-plugin": "^7.14.0",
    "@typescript-eslint/parser": "^7.14.0",
    "@vscode/test-electron": "^2.3.9",
    "esbuild": "^0.27.3",
    "eslint": "^8.57.0",
    "glob": "^10.3.10",
    "mocha": "^10.3.0",
    "typescript": "^5.5.0"
  },
  "dependencies": {
    "@anthropic-ai/sdk": "^0.32.1",
    "@types/marked": "^5.0.2",
    "marked": "^17.0.3",
    "mermaid": "^11.12.3",
    "openai": "^6.5.0"
  }
}
