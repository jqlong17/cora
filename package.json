{
  "name": "cora",
  "displayName": "Cora",
  "description": "%extension.description%",
  "version": "0.1.10",
  "publisher": "jqlong",
  "icon": "images/icon.png",
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "https://github.com/jqlong17/cora"
  },
  "engines": {
    "vscode": "^1.96.0"
  },
  "categories": [
    "Other",
    "Notebooks",
    "Visualization"
  ],
  "keywords": [
    "knowledge",
    "knowledge-base",
    "notes",
    "markdown",
    "wiki",
    "笔记",
    "知识管理",
    "cora"
  ],
  "activationEvents": [],
  "main": "./out/extension.js",
  "contributes": {
    "viewsContainers": {
      "activitybar": [
        {
          "id": "knowledgeBase",
          "title": "Cora",
          "icon": "$(book)"
        }
      ]
    },
    "views": {
      "knowledgeBase": [
        {
          "id": "pageTree",
          "name": "%view.pages%",
          "when": "true",
          "size": 2
        },
        {
          "id": "kbOutline",
          "name": "%view.outline%",
          "when": "true",
          "size": 1
        },
        {
          "id": "search",
          "name": "%view.search%",
          "when": "true",
          "size": 1
        }
      ]
    },
    "viewsWelcome": [
      {
        "view": "pageTree",
        "contents": "%welcome.pages%"
      },
      {
        "view": "kbOutline",
        "contents": "%welcome.outline%"
      },
      {
        "view": "search",
        "contents": "%welcome.search%"
      }
    ],
    "commands": [
      {
        "command": "knowledgeBase.refreshPageTree",
        "title": "%cmd.refreshPageTree%",
        "icon": "$(refresh)"
      },
      {
        "command": "knowledgeBase.toggleFilter",
        "title": "%cmd.toggleFilter%",
        "icon": "$(filter)"
      },
      {
        "command": "knowledgeBase.togglePageView",
        "title": "%cmd.togglePageView%",
        "icon": "$(list-flat)"
      },
      {
        "command": "knowledgeBase.setPageViewModeTree",
        "title": "%cmd.viewTree%",
        "icon": "$(list-tree)"
      },
      {
        "command": "knowledgeBase.setPageViewModeFlat",
        "title": "%cmd.viewFlat%",
        "icon": "$(layout)"
      },
      {
        "command": "knowledgeBase.setPageViewModeFavorites",
        "title": "%cmd.favorite%",
        "icon": "$(star-empty)"
      },
      {
        "command": "knowledgeBase.toggleFavorite",
        "title": "%cmd.favorite%",
        "icon": "$(star-empty)"
      },
      {
        "command": "knowledgeBase.showAllFiles",
        "title": "%cmd.showAllFiles%",
        "icon": "$(files)"
      },
      {
        "command": "knowledgeBase.showMarkdownOnly",
        "title": "%cmd.showMarkdownOnly%",
        "icon": "$(markdown)"
      },
      {
        "command": "knowledgeBase.openPreview",
        "title": "%cmd.openPreview%",
        "icon": "$(open-preview)"
      },
      {
        "command": "knowledgeBase.selectFont",
        "title": "%cmd.displaySettings%",
        "icon": "$(case-sensitive)"
      },
      {
        "command": "knowledgeBase.newNote",
        "title": "%cmd.newNote%",
        "icon": "$(new-file)"
      },
      {
        "command": "knowledgeBase.newFolder",
        "title": "%cmd.newFolder%",
        "icon": "$(new-folder)"
      },
      {
        "command": "knowledgeBase.deleteItem",
        "title": "%cmd.delete%",
        "icon": "$(trash)"
      },
      {
        "command": "knowledgeBase.renameItem",
        "title": "%cmd.rename%",
        "icon": "$(edit)"
      },
      {
        "command": "knowledgeBase.outlineCollapseAll",
        "title": "%cmd.collapseAll%",
        "icon": "$(collapse-all)"
      },
      {
        "command": "knowledgeBase.outlineExpandAll",
        "title": "%cmd.expandAll%",
        "icon": "$(expand-all)"
      },
      {
        "command": "knowledgeBase.gotoHeading",
        "title": "%cmd.gotoHeading%"
      },
      {
        "command": "knowledgeBase.revealInFinder",
        "title": "%cmd.revealInFinder%",
        "icon": "$(folder-opened)"
      },
      {
        "command": "knowledgeBase.copyPath",
        "title": "%cmd.copyPath%",
        "icon": "$(copy)"
      },
      {
        "command": "knowledgeBase.copyRelativePath",
        "title": "%cmd.copyRelativePath%",
        "icon": "$(copy)"
      },
      {
        "command": "knowledgeBase.searchNotes",
        "title": "%cmd.searchNotes%",
        "icon": "$(search)"
      },
      {
        "command": "knowledgeBase.clearSearch",
        "title": "%cmd.clearSearch%",
        "icon": "$(clear-all)"
      },
      {
        "command": "knowledgeBase.setSortOrder",
        "title": "%cmd.sort%",
        "icon": "$(sort-precedence)"
      }
    ],
    "menus": {
      "editor/title": [
        {
          "command": "knowledgeBase.selectFont",
          "when": "activeWebviewPanelId == 'coraPreview'",
          "group": "navigation@1"
        }
      ],
      "view/title": [
        {
          "command": "knowledgeBase.setPageViewModeTree",
          "when": "view == pageTree",
          "group": "navigation@1"
        },
        {
          "command": "knowledgeBase.setPageViewModeFlat",
          "when": "view == pageTree",
          "group": "navigation@2"
        },
        {
          "command": "knowledgeBase.setPageViewModeFavorites",
          "when": "view == pageTree",
          "group": "navigation@3"
        },
        {
          "command": "knowledgeBase.setSortOrder",
          "when": "view == pageTree",
          "group": "navigation@4"
        },
        {
          "command": "knowledgeBase.toggleFilter",
          "when": "view == pageTree",
          "group": "navigation@5"
        },
        {
          "command": "knowledgeBase.refreshPageTree",
          "when": "view == pageTree",
          "group": "navigation@6"
        },
        {
          "command": "knowledgeBase.newNote",
          "when": "view == pageTree",
          "group": "navigation@7"
        },
        {
          "command": "knowledgeBase.newFolder",
          "when": "view == pageTree",
          "group": "navigation@8"
        },
        {
          "command": "knowledgeBase.outlineCollapseAll",
          "when": "view == kbOutline",
          "group": "navigation@1"
        },
        {
          "command": "knowledgeBase.outlineExpandAll",
          "when": "view == kbOutline",
          "group": "navigation@2"
        },
        {
          "command": "knowledgeBase.searchNotes",
          "when": "view == search",
          "group": "navigation@1"
        },
        {
          "command": "knowledgeBase.clearSearch",
          "when": "view == search",
          "group": "navigation@2"
        }
      ],
      "view/item/context": [
        {
          "command": "knowledgeBase.clearSearch",
          "when": "view == search",
          "group": "1_search@1"
        },
        {
          "command": "knowledgeBase.toggleFavorite",
          "when": "view == pageTree && (viewItem == file || viewItem == file+favorite)",
          "group": "inline"
        },
        {
          "command": "knowledgeBase.toggleFavorite",
          "when": "view == pageTree && (viewItem == file || viewItem == file+favorite)",
          "group": "2_favorite@1"
        },
        {
          "command": "knowledgeBase.newNote",
          "when": "view == pageTree && viewItem == folder",
          "group": "2_new@1"
        },
        {
          "command": "knowledgeBase.newFolder",
          "when": "view == pageTree && viewItem == folder",
          "group": "2_new@2"
        },
        {
          "command": "knowledgeBase.renameItem",
          "when": "view == pageTree",
          "group": "3_edit@1"
        },
        {
          "command": "knowledgeBase.deleteItem",
          "when": "view == pageTree",
          "group": "3_edit@2"
        },
        {
          "command": "knowledgeBase.revealInFinder",
          "when": "view == pageTree",
          "group": "4_file@1"
        },
        {
          "command": "knowledgeBase.copyPath",
          "when": "view == pageTree",
          "group": "3_file@2"
        },
        {
          "command": "knowledgeBase.copyRelativePath",
          "when": "view == pageTree",
          "group": "3_file@3"
        }
      ]
    },
    "configuration": {
      "title": "Cora",
      "properties": {
        "knowledgeBase.filterMode": {
          "type": "string",
          "default": "markdown",
          "enum": [
            "all",
            "markdown"
          ],
          "enumDescriptions": [
            "%config.filterMode.all%",
            "%config.filterMode.markdown%"
          ],
          "description": "%config.filterMode.description%"
        },
        "knowledgeBase.pageViewMode": {
          "type": "string",
          "default": "tree",
          "enum": [
            "tree",
            "flat",
            "favorites"
          ],
          "enumDescriptions": [
            "%config.pageViewMode.tree%",
            "%config.pageViewMode.flat%",
            "%config.pageViewMode.favorites%"
          ],
          "description": "%config.pageViewMode.description%"
        },
        "knowledgeBase.markdownExtensions": {
          "type": "array",
          "default": [
            ".md",
            ".markdown",
            ".mdx"
          ],
          "description": "%config.markdownExtensions.description%"
        },
        "knowledgeBase.previewOnClick": {
          "type": "boolean",
          "default": true,
          "description": "%config.previewOnClick.description%"
        },
        "knowledgeBase.autoReveal": {
          "type": "boolean",
          "default": true,
          "description": "%config.autoReveal.description%"
        },
        "knowledgeBase.showOutlineForNonMarkdown": {
          "type": "boolean",
          "default": false,
          "description": "%config.showOutlineForNonMarkdown.description%"
        },
        "knowledgeBase.sortOrder": {
          "type": "string",
          "default": "nameAsc",
          "enum": [
            "nameAsc",
            "nameDesc",
            "mtimeDesc",
            "mtimeAsc",
            "ctimeDesc",
            "ctimeAsc"
          ],
          "enumDescriptions": [
            "%config.sortOrder.nameAsc%",
            "%config.sortOrder.nameDesc%",
            "%config.sortOrder.mtimeDesc%",
            "%config.sortOrder.mtimeAsc%",
            "%config.sortOrder.ctimeDesc%",
            "%config.sortOrder.ctimeAsc%"
          ],
          "description": "%config.sortOrder.description%"
        },
        "knowledgeBase.fontFamily": {
          "type": "string",
          "default": "Cascadia Mono",
          "enum": [
            "Cascadia Mono",
            "Google Sans",
            "IBM Plex Mono",
            "Noto Sans SC",
            "System"
          ],
          "description": "%config.fontFamily.description%"
        },
        "knowledgeBase.fontSize": {
          "type": "number",
          "default": 15,
          "minimum": 12,
          "maximum": 30,
          "description": "%config.fontSize.description%"
        },
        "knowledgeBase.lineHeightPreview": {
          "type": "number",
          "default": 1.5,
          "minimum": 1,
          "maximum": 3,
          "description": "%config.lineHeightPreview.description%"
        },
        "knowledgeBase.lineHeightSource": {
          "type": "number",
          "default": 1.6,
          "minimum": 1,
          "maximum": 3,
          "description": "%config.lineHeightSource.description%"
        }
      }
    },
    "keybindings": [
      {
        "command": "knowledgeBase.openPreview",
        "key": "cmd+shift+v",
        "mac": "cmd+shift+v",
        "when": "editorTextFocus && editorLangId == markdown"
      },
      {
        "command": "knowledgeBase.openEditor",
        "key": "cmd+e",
        "mac": "cmd+e",
        "when": "activeWebviewPanelId == 'coraPreview'"
      }
    ]
  },
  "scripts": {
    "compile": "tsc -p ./",
    "bundle": "esbuild src/extension.ts --bundle --outfile=out/extension.js --external:vscode --format=cjs --platform=node",
    "vscode:prepublish": "npm run bundle -- --minify",
    "watch": "tsc -watch -p ./",
    "pretest": "npm run compile && npm run lint",
    "lint": "eslint src --ext ts",
    "test": "node ./out/test/runTest.js",
    "seed-test-workspace": "node scripts/seed-test-workspace.js",
    "publish:all": "./scripts/publish.sh"
  },
  "devDependencies": {
    "@types/glob": "^8.1.0",
    "@types/mocha": "^10.0.6",
    "@types/node": "20.x",
    "@types/vscode": "^1.96.0",
    "@typescript-eslint/eslint-plugin": "^7.14.0",
    "@typescript-eslint/parser": "^7.14.0",
    "@vscode/test-electron": "^2.3.9",
    "esbuild": "^0.27.3",
    "eslint": "^8.57.0",
    "glob": "^10.3.10",
    "mocha": "^10.3.0",
    "typescript": "^5.5.0"
  },
  "dependencies": {
    "@types/marked": "^5.0.2",
    "marked": "^17.0.3",
    "mermaid": "^11.12.3"
  }
}
