# Cora

一款受 Notion 启发的 VS Code 知识管理插件

## 为什么选择 Cora？

VS Code 和 Cursor 的界面是为编程设计的——左侧文件树、中间编辑器、右侧 AI 对话。这种布局对编程很友好，但对知识管理并不理想。

Notion 擅长知识管理：层级页面、文档大纲、全文搜索。但它缺少 VS Code 强大的编辑能力和 AI 集成。

Cora 将两者结合：

- 📁 **页面树** —— 层级化的知识组织，像 Notion 一样直观
- 📋 **大纲视图** —— 一键导航文档结构，支持层级折叠
- 🔍 **全文搜索** —— 支持多关键词、智能降级搜索
- 📝 **无缝编辑** —— 编辑/预览一键切换，保留 VS Code 原生体验

## 为谁设计？

- **开发者兼知识工作者** —— 用一个工具搞定代码和笔记
- **非技术背景的知识工作者** —— 借助 AI 编程的力量，更高效地管理知识

## 使用场景

| 场景 | 传统方式 | Cora 方式 |
|------|----------|-----------|
| 整理项目文档 | 文件夹嵌套混乱 | 层级化页面树，一目了然 |
| 阅读长文档 | 滚动找内容 | 大纲导航，秒跳目标章节 |
| 查找笔记 | 逐个文件打开搜索 | 全文搜索，关键词高亮 |
| 切换编程/写作 | 两个应用来回切 | 一个 VS Code，两种模式 |

## 核心设计理念

保留 VS Code 的编辑能力，增加 Notion 的组织能力。

- 左侧面板增加知识库视图，随时可切回原生文件树
- 中间区域仍用 VS Code 编辑器，预览/编辑一键切换
- 右侧 AI 对话保持不变，与知识库无缝配合

## 功能特性

### 📄 页面树 (Page Tree)
- **文件树视图**: 以工作区根目录为起点，展示完整文件层级
- **智能过滤**: 支持【全部文件】和【仅 Markdown】两种模式切换
- **快速操作**: 新建笔记、新建文件夹、重命名、删除
- **文件操作**: 在 Finder 中打开、复制路径、复制文件
- **展开/折叠**: 全部展开、全部折叠功能

### 📋 大纲 (Outline)
- **实时跟随**: 自动跟随当前激活的编辑器/预览
- **标题层级**: 自动提取 H1-H6 标题，支持层级折叠
- **快速跳转**: 点击大纲项即可跳转到文档对应位置
- **层级图标**: 不同层级使用不同图标，视觉清晰

### 🔍 搜索 (Search)
- **全文搜索**: 在工作区所有 Markdown 文件中搜索内容
- **多关键词**: 支持 `A B` 格式，搜索同时包含多个关键词的文件
- **智能降级**: 多关键词无结果时，自动降级为 OR 搜索
- **匹配统计**: 显示每个文件的匹配次数和预览文本
- **结果排序**: 按匹配次数自动排序

### 📝 编辑与预览
- **默认编辑**: 点击文件默认打开编辑器
- **一键切换**: 编辑器右上角按钮切换编辑/预览模式
- **大纲同步**: 预览模式下大纲仍然显示和可用

## 快速开始

### 安装

1. 在 VS Code/Cursor 扩展市场中搜索 "Cora"
2. 点击安装
3. 安装完成后，左侧活动栏会出现 📖 **Cora** 图标

### 使用指南

1. **打开 Cora 面板**
   - 点击左侧活动栏的 📖 Cora 图标
   - 或使用快捷键 `Cmd+Shift+P` 输入 "Cora"

2. **浏览文件（页面树）**
   - 在【页面】标签中查看工作区文件树
   - 使用顶部按钮切换【全部/Markdown】过滤模式
   - 右键文件可进行各种操作

3. **查看文档结构（大纲）**
   - 打开任意 Markdown 文件
   - 切换到【大纲】标签查看文档标题结构
   - 点击标题项跳转到对应位置
   - 支持展开/折叠子标题

4. **搜索笔记**
   - 切换到【搜索】标签
   - 点击 🔍 **搜索笔记** 按钮
   - 输入关键词，支持多关键词（空格分隔）
   - 查看搜索结果，点击打开文件

5. **编辑与预览**
   - 点击 Markdown 文件 → 默认打开编辑器
   - 点击编辑器右上角的 👁️ 按钮进入预览
   - 在预览模式点击 ✏️ 按钮返回编辑

## 快捷键

| 操作 | 快捷键 |
|------|--------|
| 打开 Markdown 预览 | `Cmd+Shift+V` |
| 从预览返回编辑 | `Cmd+E` |

## 右键菜单功能

在页面树中右键点击文件或文件夹：

- **新建笔记** - 在当前目录创建新 Markdown 文件
- **新建文件夹** - 在当前目录创建新文件夹
- **重命名** - 重命名文件/文件夹
- **删除** - 删除文件/文件夹
- **在 Finder 中打开** - 打开系统文件管理器
- **复制绝对路径** - 复制完整文件路径
- **复制相对路径** - 复制相对于工作区的路径
- **复制文件** - 创建文件副本（自动命名）

## 搜索技巧

| 输入 | 说明 | 结果 |
|------|------|------|
| `项目` | 单关键词 | 包含"项目"的所有笔记 |
| `项目 计划` | 多关键词（AND）| 同时包含"项目"和"计划"的笔记 |
| `项目 计划`（无 AND 结果）| 智能降级（OR）| 包含"项目"或"计划"的笔记 |

## 配置选项

在 VS Code 设置中搜索 "knowledgeBase" 进行配置：

| 配置项 | 类型 | 默认值 | 说明 |
|--------|------|--------|------|
| `knowledgeBase.filterMode` | string | `"markdown"` | 页面树的文件过滤模式 |
| `knowledgeBase.markdownExtensions` | array | `[".md", ".markdown", ".mdx"]` | 识别的 Markdown 文件扩展名 |
| `knowledgeBase.autoReveal` | boolean | `true` | 自动在页面树中显示当前打开的文件 |

## 语言

- [简体中文](./README.md)
- [English](./README_EN.md)

## 许可证

MIT

Cora —— 让知识管理像写代码一样高效。
